# Python Core
# –ú–æ–¥—É–ª—å 4
# –¥–æ–º–∞—à–Ω—î –∑–∞–≤–¥–∞–Ω–Ω—è 3 (–Ω–µ–æ–±–æ–≤—è–∑–∫–æ–≤–µ)
# –õ–æ–ø–∞—Ç—ñ–Ω –Ñ–≤–≥–µ–Ω

# —ñ–º–ø–æ–æ—Ä—Ç—É—î–º–æ –º–æ–¥—É–ª—ñ
import os
import sys
from pathlib import Path
from colorama import Fore, Style

def visual_structure(directory): # —Å—Ç–≤–æ—Ä—é—î–º–æ –æ—Å–Ω–æ–≤–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó
    try:
        directory_path = Path(directory) # —Å—Ç–≤–æ—Ä—é—î–º–æ –∑–º—ñ–Ω–Ω—É –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ –¥—ñ–π –∑—ñ —à–ª—è—Ö–æ–º
        if directory_path.exists() and directory_path.is_dir(): # –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞ —Ç–∏–ø —Ç–∞ –Ω—è–≤–Ω—ñ—Å—Ç—å –ø–∞–ø–∫–∏
            print(Fore.BLUE + f"–í–∞—à–∞ –æ—Å–Ω–æ–≤–Ω–∞ –ø–∞–ø–∫–∞ –¥–ª—è –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó: \n üìÅ {directory}") # —Å—Ç–≤–æ—Ä—é—î–º–æ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–∏–π –º–µ—Å–µ–¥–∂ –∑ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è–º –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó –ø–∞–ø–∫–∏
            visual_inside(directory_path) # –≤–∏–∫–ª–∏–∫–∞—î–º–æ –Ω–∞—Å—Ç—É–ø–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–º—ñ—Å—Ç—É –ø–∞–ø–∫–∏
        else:
            print(Fore.RED + "–ü–æ–º–∏–ª–∫–∞: —Ç–∞–∫–æ—ó –ø–∞–ø–∫–∏ –Ω–µ —ñ—Å–Ω—É—î.") # –≤–∏–≤–æ–¥–∏–º–æ –ø–æ–º–∏–ª–∫—É
    except Exception as e:
        print(Fore.RED + f"–ü–æ–º–∏–ª–∫–∞: {str(e)}" + Style.RESET_ALL) # —ñ–Ω—à—ñ –ø–æ–º–∏–ª–∫–∏ –∑–∞ –æ–ø–∏—Å–æ–º –ø–æ–º–∏–ª–∫–∏

def visual_inside(directory_path, indent=4): # —Å—Ç–≤–æ—Ä—é—î–º–æ –¥—Ä—É–≥–æ—Ä—è–¥–Ω—É —Ñ—É–Ω–∫—Ü—ñ—é –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó –∑ –≤—ñ–¥—Å—Ç—É–ø–æ–º 4 –≤—ñ–¥ –±–∞—Ç—å–∫—ñ–≤—Å—å–∫–æ—ó –ø–∞–ø–∫–∏
    for item in directory_path.iterdir(): # —ñ—Ç–µ—Ä—É—î–º—Å—è –ø–æ –≤–º—ñ—Å—Ç—É –ø–∞–ø–∫–∏
        if item.is_dir(): # –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –Ω–∞ –≤–ª–∫–¥–µ–Ω—ñ—Å—Ç—å —ñ–Ω—à–∏–º–∏ –ø–∞–ø–∫–∞–º–∏
            print(Fore.GREEN + f"{' ' * indent}üìÇ {item.name}") # –≤—ñ–∑—É–∞–ª—ñ–∑—É—î–º–æ –≤–º—ñ—Å—Ç –ø–∞–ø–∫–∏ —ñ–Ω—à–∏–º –∑–µ–ª–µ–Ω–∏–º –∫–æ–ª—ñ—Ä–æ–º, –¥–æ–¥–∞—î–º–æ –∑–æ–±—Ä–∞–∂–µ–Ω–Ω—è –ø–∞–ø–∫–∏
            visual_inside(item, indent + 4) # —Ä–µ–∫—É—Ä—Å—É—î–º–æ —Ñ—É–Ω–∫—Ü—ñ—é –∑ –≤—ñ–¥—Å—Ç—É–ø–æ–º + 4
        else:
            print(Fore.YELLOW + f"{' ' * indent}üìú {item.name}" + Style.RESET_ALL) # –≤—Å—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤–Ω—É—Ç—Ä—ñ –ø–∞–ø–∫–∏, —â–æ –Ω–µ —î –ø–∞–ø–∫–∞–º–∏ –ø–æ–∑–Ω–∞—á–∞—î–º–æ —ñ–∫–æ–Ω–∫–æ—é —Ç–∞ –∂–æ–≤—Ç–∏–º –∫–æ–ª—å–æ—Ä–æ–º

if __name__ == "__main__": # –¥–æ–¥–∞—Ç–∫–æ–≤–æ –ø–µ—Ä–µ–≤—ñ—Ä—è—î–º–æ –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π –≤–∏–∫–ª–∏–∫ —Å–∫—Ä–∏–ø—Ç—É —Ç–∞ —á–∏ —î —â–æ –≤–∏–∫–ª–∏–∫–∞—Ç–∏
    if len(sys.argv) > 2 : # –≤ –∫–æ–Ω—Å–ø–µ–∫—Ç—ñ –Ω–∞–ø–∏—Å–∞–Ω–æ —Å—Ç–∞–≤–∏—Ç–∏ >1, –∞–ª–µ –≤ –º–µ–Ω–µ —Ä–æ–±–∏—Ç—å —Ç—ñ–ª—å–∫–∏ –ø—ñ—Å–ª—è 2. 
        print(Fore.RED + "–ü–æ–º–∏–ª–∫–∞: –≤–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–ª–∏ –∞—Ä–≥—É–º–µ–Ω—Ç —è–∫ —à–ª—è—Ö –¥–æ –ø–∞–ø–∫–∏ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—ó, –∞–±–æ –ø–∞–ø–∫—É –Ω–µ–º–æ–∂–ª–∏–≤–æ –≤—ñ–∑—É–∞–ª—ñ–∑—É–≤–∞—Ç–∏. –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É: python –Ω–∞–∑–≤–∞_—Å–∫—Ä–∏–ø—Ç—É.py /—à–ª—è—Ö/–¥–æ/–≤–∞—à–æ—ó/–¥–∏—Ä–µ–∫—Ç–æ—Ä—ñ—ó" + Style.RESET_ALL)
    else:
        directory_path = sys.argv[1]
        visual_structure(directory_path)
        
# –û—Å—å —Ç–∞–∫–µ –≤–∏–π—à–ª–æ: https://drive.google.com/file/d/1UoLc3hxU7lzyMWdtjV2qxuCqgPQtsVoQ/view?usp=drive_link

